function f(e){e.directive("intersect",e.skipDuringClone((t,{value:n,expression:o,modifiers:a},{evaluateLater:i,cleanup:l})=>{let u=i(o),h={rootMargin:w(a),threshold:p(a)},d=new IntersectionObserver(g=>{g.forEach(m=>{m.isIntersecting!==(n==="leave")&&(u(),a.includes("once")&&d.disconnect())})},h);d.observe(t),l(()=>{d.disconnect()})}))}function p(e){if(e.includes("full"))return .99;if(e.includes("half"))return .5;if(!e.includes("threshold"))return 0;let t=e[e.indexOf("threshold")+1];return t==="100"?1:t==="0"?0:+`.${t}`}function v(e){let t=e.match(/^(-?[0-9]+)(px|%)?$/);return t?t[1]+(t[2]||"px"):void 0}function w(e){const t="margin",n="0px 0px 0px 0px",o=e.indexOf(t);if(o===-1)return n;let a=[];for(let i=1;i<5;i++)a.push(v(e[o+i]||""));return a=a.filter(i=>i!==void 0),a.length?a.join(" ").trim():n}var x=f;const r=new Map;window.imageCache=r;function c(e){return!e||r.has(e)?Promise.resolve(r.get(e)||e):new Promise(t=>{const n=new Image;n.onload=()=>{r.set(e,e),t(e)},n.onerror=()=>t(e),n.src=e})}function s(e){return r.has(e)}document.addEventListener("alpine:init",()=>{window.Alpine.plugin(x),window.Alpine.data("lqipImage",(e,t)=>({imageUrl:e,thumbUrl:t,loaded:s(e),init(){s(e)&&(this.loaded=!0)},onLoad(){this.loaded=!0,r.set(e,e)}}))});document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("mouseover",e=>{const t=e.target.closest("a[wire\\:navigate], a[wire\\:navigate\\.hover]");if(!t)return;t.getAttribute("href")&&!t.dataset.prefetched&&(t.dataset.prefetched="true")})});document.addEventListener("livewire:navigating",()=>{});document.addEventListener("livewire:navigated",()=>{requestIdleCallback(()=>{document.querySelectorAll('[x-data*="lqipImage"]').forEach(t=>{const n=t.getAttribute("x-data")?.match(/lqipImage\('([^']+)'/);n&&n[1]&&c(n[1])})},{timeout:2e3})});window.GSCImageCache={preload:c,isCached:s,getCache:()=>r,preloadMultiple:e=>Promise.all(e.map(c))};
